{"ast":null,"code":"/* 此文件专门用于创建整个项目的路由器 */\n//导入vueRouter\nimport VueRouter from \"vue-router\"; //引入组件\n\nimport About from '../pages/About';\nimport Home from '../pages/Home';\nimport News from '../pages/News';\nimport Message from '../pages/Message';\nimport Detail from '../pages/Detail'; //创建路由器\n\nvar router = new VueRouter({\n  routes: [{\n    name: 'about',\n    path: '/about',\n    component: About,\n    meta: {\n      title: \"about\"\n    }\n  }, {\n    name: 'home',\n    path: '/home',\n    component: Home,\n    meta: {\n      title: \"home\"\n    },\n    children: [{\n      name: 'news',\n      path: 'news',\n      component: News,\n      meta: {\n        isAuth: true,\n        title: \"news\"\n      }\n    }, {\n      name: 'message',\n      path: 'message',\n      component: Message,\n      meta: {\n        isAuth: true,\n        title: \"message\"\n      },\n      children: [{\n        name: 'detail',\n        path: 'detail/:id/:title',\n        component: Detail,\n        //props的第一种写法，值为对象。\n        //该对象中的所有key-value都会以props的形式传给Detail组件\n        // props: {a:'1',b:'hello'}\n        //props的第二种写法，值为布尔值\n        //若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件\n        // props: true\n        //props的第三种写法，值为函数\n        //\n        props: function props($route) {\n          return {\n            id: $route.params.id,\n            title: $route.params.title\n          };\n        }\n      }]\n    }]\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.isAuth) {\n    //判断是否需要权限\n    if (localStorage.getItem('school') === 'atguigu') {\n      next();\n    } else alert('无权限访问！');\n  } else {\n    next();\n  }\n});\nrouter.afterEach(function (to, from) {\n  document.title = to.meta.title || \"goodMorning\";\n});\nexport default router;","map":{"version":3,"names":["VueRouter","About","Home","News","Message","Detail","router","routes","name","path","component","meta","title","children","isAuth","props","$route","id","params","beforeEach","to","from","next","localStorage","getItem","alert","afterEach","document"],"sources":["D:/Java/Frame/vue/vue_project/src/router/index.js"],"sourcesContent":["/* 此文件专门用于创建整个项目的路由器 */\r\n\r\n//导入vueRouter\r\nimport VueRouter from \"vue-router\";\r\n//引入组件\r\nimport About from '../pages/About'\r\nimport Home from '../pages/Home'\r\nimport News from '../pages/News'\r\nimport Message from '../pages/Message'\r\nimport Detail from '../pages/Detail'\r\n\r\n//创建路由器\r\nconst router = new VueRouter({\r\n    routes: [\r\n        {\r\n            name: 'about',\r\n            path: '/about',\r\n            component: About,\r\n            meta:{title: \"about\"}\r\n        },\r\n        {\r\n            name: 'home',\r\n            path: '/home',\r\n            component: Home,\r\n            meta:{title: \"home\"},\r\n            children: [\r\n                {\r\n                    name: 'news',\r\n                    path: 'news',\r\n                    component: News,\r\n                    meta: {isAuth: true, title: \"news\"}\r\n                },\r\n                {\r\n                    name: 'message',\r\n                    path: 'message',\r\n                    component: Message,\r\n                    meta: {isAuth: true, title: \"message\"},\r\n                    children: [\r\n                        {\r\n                            name: 'detail',\r\n                            path: 'detail/:id/:title',\r\n                            component: Detail,\r\n\r\n                            //props的第一种写法，值为对象。\r\n                            //该对象中的所有key-value都会以props的形式传给Detail组件\r\n                            // props: {a:'1',b:'hello'}\r\n\r\n                            //props的第二种写法，值为布尔值\r\n                            //若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件\r\n                            // props: true\r\n\r\n                            //props的第三种写法，值为函数\r\n                            //\r\n                            props($route) {\r\n                                return {\r\n                                    id:$route.params.id, title:$route.params.title\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n})\r\n\r\nrouter.beforeEach((to,from,next) => {\r\n    if(to.meta.isAuth) {    //判断是否需要权限\r\n        if(localStorage.getItem('school') === 'atguigu') {\r\n            next()\r\n        } else alert('无权限访问！')\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nrouter.afterEach((to,from) => {\r\n    document.title = to.meta.title || \"goodMorning\"\r\n})\r\n\r\nexport default router"],"mappings":"AAAA;AAEA;AACA,OAAOA,SAAP,MAAsB,YAAtB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CAEA;;AACA,IAAMC,MAAM,GAAG,IAAIN,SAAJ,CAAc;EACzBO,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,OADV;IAEIC,IAAI,EAAE,QAFV;IAGIC,SAAS,EAAET,KAHf;IAIIU,IAAI,EAAC;MAACC,KAAK,EAAE;IAAR;EAJT,CADI,EAOJ;IACIJ,IAAI,EAAE,MADV;IAEIC,IAAI,EAAE,OAFV;IAGIC,SAAS,EAAER,IAHf;IAIIS,IAAI,EAAC;MAACC,KAAK,EAAE;IAAR,CAJT;IAKIC,QAAQ,EAAE,CACN;MACIL,IAAI,EAAE,MADV;MAEIC,IAAI,EAAE,MAFV;MAGIC,SAAS,EAAEP,IAHf;MAIIQ,IAAI,EAAE;QAACG,MAAM,EAAE,IAAT;QAAeF,KAAK,EAAE;MAAtB;IAJV,CADM,EAON;MACIJ,IAAI,EAAE,SADV;MAEIC,IAAI,EAAE,SAFV;MAGIC,SAAS,EAAEN,OAHf;MAIIO,IAAI,EAAE;QAACG,MAAM,EAAE,IAAT;QAAeF,KAAK,EAAE;MAAtB,CAJV;MAKIC,QAAQ,EAAE,CACN;QACIL,IAAI,EAAE,QADV;QAEIC,IAAI,EAAE,mBAFV;QAGIC,SAAS,EAAEL,MAHf;QAKI;QACA;QACA;QAEA;QACA;QACA;QAEA;QACA;QACAU,KAfJ,iBAeUC,MAfV,EAekB;UACV,OAAO;YACHC,EAAE,EAACD,MAAM,CAACE,MAAP,CAAcD,EADd;YACkBL,KAAK,EAACI,MAAM,CAACE,MAAP,CAAcN;UADtC,CAAP;QAGH;MAnBL,CADM;IALd,CAPM;EALd,CAPI;AADiB,CAAd,CAAf;AAsDAN,MAAM,CAACa,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAkB;EAChC,IAAGF,EAAE,CAACT,IAAH,CAAQG,MAAX,EAAmB;IAAK;IACpB,IAAGS,YAAY,CAACC,OAAb,CAAqB,QAArB,MAAmC,SAAtC,EAAiD;MAC7CF,IAAI;IACP,CAFD,MAEOG,KAAK,CAAC,QAAD,CAAL;EACV,CAJD,MAIO;IACHH,IAAI;EACP;AACJ,CARD;AAUAhB,MAAM,CAACoB,SAAP,CAAiB,UAACN,EAAD,EAAIC,IAAJ,EAAa;EAC1BM,QAAQ,CAACf,KAAT,GAAiBQ,EAAE,CAACT,IAAH,CAAQC,KAAR,IAAiB,aAAlC;AACH,CAFD;AAIA,eAAeN,MAAf"},"metadata":{},"sourceType":"module"}